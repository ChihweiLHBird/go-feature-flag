(self.webpackChunkdocs_v_2=self.webpackChunkdocs_v_2||[]).push([[82992],{48192:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>me});var l=t(67294),r=t(87536),n=t(69865);const i={flagContainer:"flagContainer_wy3i"};var s=t(87462),o=t(86010);const c={editorInputContainer:"editorInputContainer_jqCm",editorCut:"editorCut_Erbg",error:"error_AEli",editorPlaceholder:"editorPlaceholder_MvV8",editorInput:"editorInput_WHYK",errorMessage:"errorMessage_K08I"};var m=t(32866),u=t(45697),d=t.n(u);function v(e){let{label:a,displayText:t,className:n,required:i,type:u,validation:d,defaultValue:v,disablePlaceholder:p=!1,disableInlineErr:f=!1}=e;const{register:E}=(0,r.Gc)();return l.createElement("div",{className:(0,o.Z)(n||c.editorInputContainer)},l.createElement("input",(0,s.Z)({id:`${a}.input`,defaultValue:v,className:c.editorInput,type:"number"===u?"number":"text",placeholder:" "},E(a,{required:{value:i,message:"This field is required"},...d}))),p&&l.createElement("span",null,t),l.createElement("div",{className:c.editorCut}),l.createElement("label",{htmlFor:`${a}.input`,className:(0,o.Z)(c.editorPlaceholder)},t),!f&&l.createElement(m.B,{name:a,render:g}))}function g(e){let{message:a}=e;return l.createElement("div",{className:c.errorMessage},a)}v.propTypes={label:d().string.isRequired,displayText:d().string,className:d().string,required:d().bool,type:d().string,validation:d().object,defaultValue:d().any,disablePlaceholder:d().bool,disableInlineErr:d().bool};const p={container:"container_JzDm",switch:"switch_G9oQ",r:"r_b74C",layer:"layer_jPCr",knobs:"knobs_MQYY",checkbox:"checkbox_UUwg",displayText:"displayText_acVt"};function f(e){let{label:a,displayText:t,defaultChecked:n=!1}=e;const{register:i}=(0,r.Gc)();return l.createElement("div",{className:p.container},l.createElement("div",{className:(0,o.Z)(p.displayText)},t),l.createElement("div",null,l.createElement("div",{className:(0,o.Z)(p.switch,p.r)},l.createElement("input",(0,s.Z)({type:"checkbox",className:p.checkbox},i(a),{defaultChecked:n})),l.createElement("div",{className:p.knobs}),l.createElement("div",{className:p.layer}))))}f.propTypes={label:d().string.isRequired,displayText:d().string,defaultChecked:d().bool};const E={selector:"selector_zSAl"};function b(e){let{title:a,content:t,label:n,required:i}=e;const{register:o}=(0,r.Gc)();return l.createElement("div",{className:E.selector},l.createElement("select",(0,s.Z)({defaultValue:"0"},o(n,i)),l.createElement("option",{disabled:!0,defaultChecked:!0,value:null},a),t.map(((e,a)=>l.createElement("option",{value:e.value,key:`variation_type_${e.value}_${e.displayText}`},e.displayName)))))}b.propTypes={title:d().string,content:d().array,label:d().string.isRequired,required:d().bool};const N={buttonPlus:"buttonPlus_vxig",bg:"bg_ZMMU",variation:"variation_m8Hn",icons:"icons_NekN",icon:"icon_PBCB",targeting:"targeting_UFjj"};var y=t(55417),h=t(92949);const _={container:"container_SLwd"};function x(e){let{label:a,value:t}=e;const{register:n}=(0,r.Gc)(),{colorMode:i}=(0,h.I)(),{onChange:s,onBlur:o,name:c,ref:m}=n(`${a}.value`);return l.createElement("div",{className:_.container,"data-color-mode":i},l.createElement(y.Z,{value:t||"",language:"json",placeholder:" Please enter JSON.",padding:7,className:_.container,onChange:s,onBlur:o,name:c,ref:m,"data-color-mode":i,style:{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}}))}x.propTypes={label:d().string.isRequired};const T=["\ud83d\udfe2","\ud83d\udfe0","\ud83d\udd34","\ud83d\udfe3","\u26aa\ufe0f","\ud83d\udd35","\u26ab\ufe0f","\ud83d\udfe1","\ud83d\udfe4"];function k(e){let{type:a,label:t}=e;const{control:n}=(0,r.Gc)(),{fields:i,append:s,remove:c}=(0,r.Dq)({control:n,name:t,rules:{minLength:1}}),m=e=>c(e);return l.createElement("div",null,l.createElement("h2",null,"Variations"),l.createElement("div",{className:"grid grid-pad"},i.map(((e,r)=>l.createElement(q,{type:a,key:e.id,label:`${t}.${r}`,index:r,remove:m,icon:T[r%T.length]})))),l.createElement("button",{className:N.buttonPlus,onMouseDown:()=>s({})},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",N.bg)}),l.createElement("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"}))))}function q(e){let{type:a,label:t,remove:n,index:i,icon:s}=e;const{register:c}=(0,r.Gc)();return l.createElement("div",{className:N.variation},l.createElement("div",{className:(0,o.Z)("col-4-12 mobile-col-5-12",N.icons)},l.createElement("div",{className:N.icon},s),l.createElement(v,{displayText:"Name",label:`${t}.name`,register:c,required:!0})),l.createElement("div",{className:(0,o.Z)("col-6-12 mobile-col-7-12")},((e,a,t)=>e&&"JSON"===e.toUpperCase()?l.createElement(x,{register:t,required:!0,label:a}):l.createElement(v,{displayText:"Flag Value",label:a,register:t,type:e,required:!0}))(a,t+".value",c)),l.createElement("div",{className:"col-1-12 mobile-col-1-12"},l.createElement("button",{className:N.buttonPlus,onMouseDown:e=>{e.preventDefault(),n(i)}},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",N.bg)}),l.createElement("i",{className:"fa-solid fa-minus fa-stack-1x fa-inverse"})))))}k.propTypes={type:d().string,label:d().string.isRequired},q.propTypes={type:d().string,label:d().string.isRequired,remove:d().func.isRequired,index:d().number.isRequired,icon:d().string};const $={ruleContainer:"ruleContainer__VKe",ruleName:"ruleName_UKzC",circle:"circle_Gmme",inputQuery:"inputQuery_ajTA",ifContainer:"ifContainer_dti2",serveTitle:"serveTitle_zpaJ",serve:"serve_AhaS",percentageInput:"percentageInput_tEMG",dateInput:"dateInput_aE4X",percentageContainer:"percentageContainer_Mre8",error:"error_izBb",rolloutDesc:"rolloutDesc_kHMj",progressiveRollout:"progressiveRollout_x7nm",progressiveRolloutPercentage:"progressiveRolloutPercentage_qZik",formError:"formError_TtL5"};var C=t(39960),D=(t(61061),t(72933)),V=t(92305);function Z(e){let{variations:a,label:t,selectedVar:n=""}=e;const{register:i,watch:c}=(0,r.Gc)();return"percentage"!==n?null:l.createElement("div",{className:"grid-pad grid"},l.createElement("div",{className:(0,o.Z)("col-1-1",$.rolloutDesc)},"A percentage rollout means that your users are divided in different buckets and you serve different variations to them. Note that a user will always have the same variation."),l.createElement("div",{className:"col-1-2"},l.createElement("ul",{className:$.percentageContainer},a.map(((e,a)=>l.createElement("li",{key:`${t}.${e.name}`},l.createElement(v,{label:`${t}.${a}.value`,required:!0,defaultValue:0,type:"number",displayText:`%  ${T[a%T.length]} ${e.name}`,className:$.percentageInput,disablePlaceholder:!0,disableInlineErr:!0,validation:{valueAsNumber:!0,required:{value:!0,message:"Percentage field is required"},min:{value:0,message:"Percentage should be between 0 and 100"},max:{value:100,message:"Percentage should be between 0 and 100"}}}),l.createElement("input",(0,s.Z)({type:"hidden"},i(`${t}.${a}.name`),{value:e.name})))))),l.createElement(w,{percentages:c(t)})))}function w(e){let{percentages:a}=e;if(!a||!(0,D.isArray)(a)||a.length<=0)return null;const t=a.filter((e=>e&&!isNaN(e.value))).reduce(((e,a)=>e+a.value),0);return t>100?l.createElement("div",{className:$.error},"The total percentage cannot be more than 100%"):l.createElement(V.Progress,{percent:t})}Z.propTypes={variations:d().array,label:d().string.isRequired,selectedVar:d().string},w.propTypes={percentages:d().array};var R=t(96486),P=t.n(R),F=t(9198),S=t.n(F);function I(e){let{name:a,initialValue:t,label:n,variations:i,defaultDate:s}=e;const{register:c,control:m,formState:{errors:u}}=(0,r.Gc)();return l.createElement("div",null,l.createElement("div",{className:(0,o.Z)("grid",$.progressiveRollout)},l.createElement("div",null,a),l.createElement("div",null,l.createElement(r.Qr,{control:m,name:`${n}.date`,defaultValue:s,rules:{required:{value:!0,message:"Date field is required"}},render:e=>{let{field:a}=e;return l.createElement(S(),{className:$.dateInput,placeholderText:"Select date",showTimeSelect:!0,onChange:e=>a.onChange(e),selected:a.value,dateFormat:"Pp"})}})),l.createElement("div",null,"and serve"),l.createElement("div",null,l.createElement(b,{title:"Variation",content:i.map(((e,a)=>({value:e.name,displayName:`${T[a%T.length]} ${e.name}`}))).filter((e=>void 0!==e.value&&""!==e.value))||[],register:c,label:`${n}.selectedVar`,required:!0})),l.createElement("div",{className:$.progressiveRolloutPercentage},"to\xa0",l.createElement(v,{label:`${n}.percentage`,required:!0,defaultValue:t,type:"number",displayText:"%",className:$.percentageInput,disablePlaceholder:!0,disableInlineErr:!0,validation:{valueAsNumber:!0,min:{value:0,message:"Percentage should be between 0 and 100"},max:{value:100,message:"Percentage should be between 0 and 100"}}})),l.createElement("div",null,l.createElement(C.Z,{to:"/docs/configure_flag/rollout/progressive",target:"_blank"},l.createElement("i",{className:"fa-regular fa-circle-question"})))),l.createElement("div",null,l.createElement(M,{errors:u,label:n})))}function M(e,a){const t=P().get(e,a);return P().isNil(t)?null:l.createElement("ul",{className:$.formError},Object.keys(t).map((e=>l.createElement("li",{key:e},t[e].message))))}function G(e){let{variations:a,label:t,selectedVar:r}=e;if("progressive"!==r)return null;let n=new Date;return n=n.setDate(n.getDate()+10),l.createElement("div",{className:"grid grid-pad"},l.createElement("div",{className:(0,o.Z)("col-1-1",$.rolloutDesc)},"A progressive rollout allows you to increase the percentage of your flag over time.",l.createElement("br",null),"You can select a release ramp where the percentage of your flag will increase progressively between the start date and the end date."),l.createElement(I,{name:"Start on the",label:`${t}.initial`,variations:a,initialValue:0,defaultDate:new Date}),l.createElement(I,{name:"Stop on the",label:`${t}.end`,variations:a,initialValue:100,defaultDate:new Date(n)}))}I.propTypes={name:d().string,initialValue:d().number,label:d().string.isRequired,variations:d().array,defaultDate:d().any},G.propTypes={variations:d().array,label:d().string.isRequired,selectedVar:d().string};const O={editorTextAreaContainer:"editorTextAreaContainer_fX8G",editorCut:"editorCut_GT0A",error:"error_Oga1",editorPlaceholder:"editorPlaceholder_BqZW",editorTextArea:"editorTextArea_SNp7",errorMessage:"errorMessage_KoI5"};function A(e){let{label:a,displayText:t,className:n,required:i,validation:c,defaultValue:u,disablePlaceholder:d=!1,disableInlineErr:v=!1}=e;const{register:g}=(0,r.Gc)();return l.createElement("div",{className:(0,o.Z)(n||O.editorTextAreaContainer)},l.createElement("textarea",(0,s.Z)({id:`${a}.textarea`,defaultValue:u,className:O.editorTextArea,placeholder:" "},g(a,{required:{value:i,message:"This field is required"},...c}))),d&&l.createElement("span",null,t),l.createElement("div",{className:O.editorCut}),l.createElement("label",{htmlFor:`${a}.textarea`,className:(0,o.Z)(O.editorPlaceholder)},t),!v&&l.createElement(m.B,{name:a,render:j}))}function j(e){let{message:a}=e;return l.createElement("div",{className:O.errorMessage},a)}function J(e){let{variations:a,label:t,isDefaultRule:n}=e;const{register:i,watch:s}=(0,r.Gc)(),m=[{value:"percentage",displayName:"\ufe0f\u2197\ufe0f a percentage rollout"},{value:"progressive",displayName:"\u2197\ufe0f a progressive rollout"}];return l.createElement("div",{className:(0,o.Z)("grid-pad grid",$.ruleContainer)},!n&&l.createElement("div",{className:"col-1-1"},l.createElement("div",{className:"content"},l.createElement(v,{label:`${t}.name`,displayText:"Rule name",className:(0,o.Z)(c.editorInputContainer,$.ruleName),required:!0}))),!n&&l.createElement("div",{className:(0,o.Z)("grid")},l.createElement("div",{className:"col-9-12"},l.createElement("div",{className:(0,o.Z)("content",$.inputQuery)},l.createElement("div",{className:$.ifContainer},l.createElement("div",{className:(0,o.Z)($.circle)},"IF")),l.createElement(A,{label:`${t}.query`,displayText:"Query",required:!0}),l.createElement(C.Z,{to:"/docs/configure_flag/rule_format",target:"_blank"},l.createElement("i",{className:"fa-regular fa-circle-question"}))))),l.createElement("div",{className:"col-5-12"},l.createElement("div",{className:(0,o.Z)("content",$.serve)},l.createElement("div",{className:$.serveTitle},"Serve"),l.createElement(b,{title:"Variation",content:function(e){const a=function(e){return e.map(((e,a)=>({value:e.name,displayName:`${T[a%T.length]} ${e.name}`}))).filter((e=>void 0!==e.value&&""!==e.value))||[]}(e);return a.length>=2?[...a,...m]:a}(a),register:i,label:`${t}.selectedVar`,required:!0}))),l.createElement("div",{className:"col-1-1"},l.createElement(Z,{selectedVar:s(`${t}.selectedVar`),variations:a,label:`${t}.percentages`}),l.createElement(G,{selectedVar:s(`${t}.selectedVar`),variations:a,label:`${t}.progressive`})))}A.propTypes={label:d().string.isRequired,displayText:d().string,className:d().string,required:d().bool,validation:d().object,defaultValue:d().any,disablePlaceholder:d().bool,disableInlineErr:d().bool},J.propTypes={variations:d().array,label:d().string.isRequired,isDefaultRule:d().bool};const L={button:"button_Kroe",bg:"bg_rAJd",targeting:"targeting_TgyP",variation:"variation_eQWz",icons:"icons_PYIv",icon:"icon_fDeV"};function B(e){let{label:a,variations:t}=e;const{control:n}=(0,r.Gc)(),{fields:i,append:s,remove:c}=(0,r.Dq)({control:n,name:a}),m=e=>c(e);return l.createElement("div",null,l.createElement("h2",null,"Target specific users"),i.length<=0&&l.createElement("div",null,"Add Rule"),i.map(((e,r)=>l.createElement("div",{key:e.id,className:(0,o.Z)(L.targeting)},l.createElement(J,{variations:t,label:`${a}.${r}`,isDefaultRule:!1}),l.createElement("button",{className:L.button,onMouseDown:m},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",L.bg)}),l.createElement("i",{className:"fa-solid fa-xmark fa-stack-1x fa-inverse"})))))),l.createElement("button",{className:L.button,onMouseDown:()=>s({name:`Rule ${i.length+1}`})},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",L.bg)}),l.createElement("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"}))))}B.propTypes={label:d().string.isRequired,variations:d().array};const K={buttonPlus:"buttonPlus_bivi",bg:"bg_h80t",variation:"variation_HZEP",icons:"icons_clfx",icon:"icon_tZKN",targeting:"targeting_xoeT"};function Q(e){let{label:a}=e;const{control:t}=(0,r.Gc)(),{fields:n,append:i,remove:s}=(0,r.Dq)({control:t,name:a,rules:{minLength:1}}),c=e=>s(e);return l.createElement("div",null,l.createElement("h2",null,"Metadata"),n.length<=0&&l.createElement("div",null,"Add new metadata to your flag"),l.createElement("div",{className:"grid grid-pad"},n.map(((e,t)=>l.createElement(Y,{key:e.id,label:`${a}.${t}`,index:t,remove:c})))),l.createElement("button",{className:K.buttonPlus,onMouseDown:()=>i({name:"",value:""})},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",K.bg)}),l.createElement("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"}))))}function Y(e){let{type:a,label:t,remove:n,index:i,icon:s}=e;const{register:c}=(0,r.Gc)();return l.createElement("div",{className:K.variation},l.createElement("div",{className:(0,o.Z)("col-4-12 mobile-col-5-12",K.icons)},l.createElement("div",{className:K.icon},s),l.createElement(v,{displayText:"Key",label:`${t}.name`,register:c})),l.createElement("div",{className:(0,o.Z)("col-6-12 mobile-col-7-12")},l.createElement(v,{displayText:"Value",label:`${t}.value`,register:c,type:a})),l.createElement("div",{className:"col-1-12 mobile-col-1-12"},l.createElement("button",{className:K.buttonPlus,onMouseDown:e=>{e.preventDefault(),n(i)}},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",K.bg)}),l.createElement("i",{className:"fa-solid fa-minus fa-stack-1x fa-inverse"})))))}function z(e){const a=e.type,t={};e.variations.filter((e=>void 0!==e.name&&""!==e.name&&void 0!==e.value&&""!==e.value)).forEach((e=>t[e.name]=U(e.value,a)));const l=e.targeting.map((e=>W(e))),r=U(e.trackEvents,"boolean"),n=U(e.disable,"boolean"),i=W(e.defaultRule);return{variations:t,disable:n||void 0,trackEvents:r?void 0:r,version:""===e.version?void 0:e.version,targeting:l.length>0?l:void 0,defaultRule:i,metadata:H(e.metadata)}}function U(e,a){switch(a){case"json":try{return JSON.parse(e.value)}catch(t){return}case"number":return Number(e)||void 0;case"boolean":return"boolean"==typeof e?e:void 0!==e&&("string"==typeof e||e instanceof String)&&"true"===e.toLowerCase();default:return String(e)||void 0}}function H(e){if(void 0!==e&&0!==e.filter((e=>{let{name:a}=e;return""!==a})).length)return Object.assign({},...e.map((e=>{let{name:a,value:t}=e;return{[a]:t}})))}function W(e){let a,t,l;const{selectedVar:r}=e;switch(r){case"percentage":t={},e.percentages.forEach((e=>t[e.name]=e.value));break;case"progressive":l={initial:{variation:e.progressive.initial.selectedVar,percentage:e.progressive.initial.percentage||0,date:e.progressive.initial.date},end:{variation:e.progressive.end.selectedVar,percentage:e.progressive.end.percentage||100,date:e.progressive.end.date}};break;default:a=r}return{name:e.name||void 0,query:e.query,variation:a,percentage:t,progressiveRollout:l}}Q.propTypes={label:d().string.isRequired},Y.propTypes={label:d().string.isRequired,remove:d().func.isRequired,index:d().number.isRequired};var X=t(52263);const ee={buttonContainer:"buttonContainer_m7Nq"};function ae(e){let{flagInfo:a}=e;const{siteConfig:t}=(0,X.Z)(),{watch:n}=(0,r.Gc)();let i=n(),s=a.split(".");for(let l of s)i=i[l];const c=i.flagName,m=z(i),[u,d]=(0,l.useState)({resolutionDetail:void 0,err:void 0});return l.createElement("div",null,l.createElement("h2",null,"Test your flag"),l.createElement("div",{className:"grid-pad grid"},l.createElement("div",{className:"col-5-12"},l.createElement("h4",null,"Evaluation Context"),l.createElement(x,{label:`${a}.context`,value:JSON.stringify({key:"aae1cb41-c3cb-4753-a117-031ddc958e81",custom:{anonymous:!0,firstname:"John",lastname:"Doe",email:"john.doe@gofeatureflag.org",company:"GO Feature Flag"}}," ",2)})),l.createElement("div",{className:(0,o.Z)("col-2-12",ee.buttonContainer)},l.createElement("button",{className:"pushy__btn pushy__btn--md pushy__btn--black",onClick:async e=>{e.preventDefault();try{const e=await fetch(t.customFields.playgroundEvaluationApi,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({flagName:c,flag:m,context:i.context.value?JSON.parse(i.context.value):{}})});200===e.status&&e.json().then((e=>d({resolutionDetail:e})))}catch(a){d({err:a.toString()})}}},"Evaluate Flag")),l.createElement("div",{className:"col-5-12"},l.createElement("h4",null,"Flag evaluation Details"),l.createElement("div",null,void 0!==u.resolutionDetail&&l.createElement("ul",null,l.createElement("li",null,"Value: ",u.resolutionDetail.value.toString()),l.createElement("li",null,"Variation Type: ",u.resolutionDetail.variationType),l.createElement("li",null,"Reason: ",u.resolutionDetail.reason),l.createElement("li",null,"Failed: ",u.resolutionDetail.failed),l.createElement("li",null,"Error Code: ",u.resolutionDetail.errorCode),l.createElement("li",null,"Track Events: ",u.resolutionDetail.trackEvents)),void 0!==u.err&&l.createElement("span",null,"Impossible to call the API: ",u.err)))))}function te(e){let{label:a}=e;const{watch:t}=(0,r.Gc)();return l.createElement("div",{className:i.flagContainer},l.createElement("div",{className:"grid-pad grid"},l.createElement("div",{className:"col-6-12 mobile-col-1-2"},l.createElement(v,{displayText:"Flag Name",label:`${a}.flagName`,required:!0})),l.createElement("div",{className:"col-3-12 mobile-col-1-2"},l.createElement(f,{id:"disable",label:`${a}.disable`,displayText:"Disable"})),l.createElement("div",{className:"col-3-12 mobile-col-1-2"},l.createElement(f,{id:"disable",label:`${a}.trackEvents`,displayText:"Track event",defaultChecked:!0}))),l.createElement("div",{className:"grid-pad grid"},l.createElement("div",{className:(0,o.Z)("col-3-12 mobile-col-1-2")},l.createElement(b,{title:"Flag type",content:[{value:"boolean",displayName:"\u2611\ufe0f boolean"},{value:"string",displayName:"\ud83d\udd24 string"},{value:"number",displayName:"\ud83d\udd22 number"},{value:"json",displayName:"\ud83d\udda5 JSON"}],label:`${a}.type`,required:!0})),l.createElement("div",{className:(0,o.Z)("col-1-12","mobile-col-1-1")}),l.createElement("div",{className:"col-2-12 mobile-col-1-2"},l.createElement(v,{id:"version",label:`${a}.version`,displayText:"Version"}))),l.createElement(k,{label:`${a}.variations`,type:t(`${a}.type`)}),l.createElement(B,{label:`${a}.targeting`,variations:t(`${a}.variations`)}),l.createElement("div",null,l.createElement("h2",null,"Default"),l.createElement(J,{label:`${a}.defaultRule`,variations:t(`${a}.variations`),isDefaultRule:!0})),l.createElement(Q,{label:`${a}.metadata`}),l.createElement(ae,{flagInfo:a}))}te.propTypes={label:d().string.isRequired};var le=t(53951),re=t(38388),ne=t(5022);const ie={invalidForm:"invalidForm_J4Lp",space:"space_Hu3V"};function se(){return l.createElement("div",{className:ie.invalidForm},"Error in your configuration, please review the form.")}function oe(){const{watch:e,formState:{errors:a}}=(0,r.Gc)(),t=e(),n=a&&0===Object.keys(a).length&&Object.getPrototypeOf(a)===Object.prototype;return l.createElement("div",{className:"col-4-12"},!n&&l.createElement(se,null),n&&l.createElement(b,{title:"Format",content:[{value:"yaml",displayName:"YAML"},{value:"json",displayName:"JSON"},{value:"toml",displayName:"TOML"}],required:!1,label:"flagFormat"}),l.createElement("div",{className:ie.space}),n&&l.createElement(le.default,{className:"JSON"},function(e,a){switch(a){case"json":return JSON.stringify(e,null,2);case"toml":return ne.stringify(e);default:return re.default.stringify(e,null,2)}}(function(e){const a={};return e.GOFeatureFlagEditor.filter((e=>void 0!==e.flagName&&""!==e.flagName)).forEach((e=>a[e.flagName]=z(e))),a}(t),t.flagFormat)))}function ce(){const e="GOFeatureFlagEditor",a=(0,r.cI)({mode:"onChange",defaultValues:{GOFeatureFlagEditor:[{flagName:"my-first-flag",variations:[{name:"Variation_1",value:!0},{name:"Variation_2",value:!1}],targeting:[],defaultRule:{}}]}}),{fields:t,append:n}=(0,r.Dq)({control:a.control,name:e,rules:{minLength:1}});return l.createElement("div",{className:"grid-pad grid"},l.createElement(r.RV,a,l.createElement("div",{className:"col-8-12"},l.createElement("form",{onSubmit:a.handleSubmit((e=>{e.preventDefault()}))},t.map(((a,t)=>l.createElement(te,{label:`${e}.${t}`,key:a.id}))),l.createElement("button",{className:L.button,onClick:e=>{e.preventDefault(),n({flagName:`new-flag-${t.length}`,variations:[{name:"Variation_1",value:!0},{name:"Variation_2",value:!1}],targeting:[],defaultRule:{}})}},l.createElement("span",{className:"fa-stack fa-1x"},l.createElement("i",{className:(0,o.Z)("fa-solid fa-circle fa-stack-2x",L.bg)}),l.createElement("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"})),"Add another flag"))),l.createElement(oe,null)))}function me(){return l.createElement(n.Z,{title:"Edit Your Flag",description:"GO Feature Flag editor is the simplest way to configure your feature flags."},l.createElement(ce,null))}},15101:()=>{},42116:()=>{},34904:()=>{},6918:()=>{},84819:()=>{},23197:()=>{},60996:()=>{}}]);