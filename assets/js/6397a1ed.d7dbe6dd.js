"use strict";(self.webpackChunkdocs_v_2=self.webpackChunkdocs_v_2||[]).push([[5353],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),s=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=s(n),g=r,f=p["".concat(u,".").concat(g)]||p[g]||d[g]||l;return n?a.createElement(f,o(o({ref:t},c),{},{components:n})):a.createElement(f,o({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=p;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294),r=n(86010);const l="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(87462),r=n(67294),l=n(86010),o=n(72389),i=n(67392),u=n(7094),s=n(12466);const c="tabList__CuJ",d="tabItem_LNqP";function p(e){var t;const{lazy:n,block:o,defaultValue:p,values:g,groupId:f,className:m}=e,h=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=g??h.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),b=(0,i.l)(v,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===p?p:p??(null==(t=h.find((e=>e.props.default)))?void 0:t.props.value)??h[0].props.value;if(null!==y&&!v.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:N}=(0,u.U)(),[T,w]=(0,r.useState)(y),O=[],{blockElementScrollPositionUntilNextRender:x}=(0,s.o5)();if(null!=f){const e=k[f];null!=e&&e!==T&&v.some((t=>t.value===e))&&w(e)}const E=e=>{const t=e.currentTarget,n=O.indexOf(t),a=v[n].value;a!==T&&(x(t),w(a),null!=f&&N(f,String(a)))},R=e=>{var t;let n=null;switch(e.key){case"Enter":E(e);break;case"ArrowRight":{const t=O.indexOf(e.currentTarget)+1;n=O[t]??O[0];break}case"ArrowLeft":{const t=O.indexOf(e.currentTarget)-1;n=O[t]??O[O.length-1];break}}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,l.Z)("tabs-container",c)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":o},m)},v.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:e=>O.push(e),onKeyDown:R,onClick:E},o,{className:(0,l.Z)("tabs__item",d,null==o?void 0:o.className,{"tabs__item--active":T===t})}),n??t)}))),n?(0,r.cloneElement)(h.filter((e=>e.props.value===T))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},h.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==T})))))}function g(e){const t=(0,o.Z)();return r.createElement(p,(0,a.Z)({key:String(t)},e))}},28775:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var a=n(87462),r=(n(67294),n(3905)),l=n(65488),o=n(85162);const i={},u="Scheduled rollout",s={unversionedId:"configure_flag/rollout/scheduled",id:"version-v1.0.0/configure_flag/rollout/scheduled",title:"Scheduled rollout",description:"Scheduling introduces the ability for users to changes their flags for future points in time.",source:"@site/versioned_docs/version-v1.0.0/configure_flag/rollout/scheduled.mdx",sourceDirName:"configure_flag/rollout",slug:"/configure_flag/rollout/scheduled",permalink:"/docs/configure_flag/rollout/scheduled",draft:!1,editUrl:"https://github.com/thomaspoignant/go-feature-flag/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-v1.0.0/configure_flag/rollout/scheduled.mdx",tags:[],version:"v1.0.0",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Progressive rollout",permalink:"/docs/configure_flag/rollout/progressive"},next:{title:"Use as a GO module",permalink:"/docs/category/use-as-a-go-module"}},c={},d=[{value:"Example",id:"example",level:2},{value:"Configuration fields",id:"configuration-fields",level:2}],p={toc:d};function g(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"scheduled-rollout"},"Scheduled rollout"),(0,r.kt)("p",null,"Scheduling introduces the ability for users to changes their flags for future points in time.\nWhile this sounds deceptively straightforward, it unlocks the potential for users to create complex release strategies by scheduling the incremental steps in advance."),(0,r.kt)("p",null,"For example, you may want to turn a feature ON for internal testing tomorrow and then enable it for your \u2018beta\u2019 user segment four days later."),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)(l.Z,{groupId:"code",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"yaml",label:"YAML",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'scheduled-flag:\n  variations:\n    variationA: A\n    variationB: B\n  defaultRule:\n    name: legacyDefaultRule\n    percentage:\n      variationA: 100\n      variationB: 0\n# highlight-start\n  scheduledRollout:\n    - date: 2020-04-10T00:00:00.1+02:00\n      targeting:\n        - name: legacyRuleV0\n          query: beta eq "true"\n          percentage:\n            variationA: 0\n            variationB: 100\n\n    - date: 2022-05-12T15:36:00.1+02:00\n      targeting:\n        - name: legacyRuleV0\n          query: beta eq "false"\n# highlight-end\n'))),(0,r.kt)(o.Z,{value:"json",label:"JSON",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scheduled-flag": {\n    "variations": {\n    "variationA": "A",\n    "variationB": "B"\n  },\n    "defaultRule": {\n    "name": "legacyDefaultRule",\n    "percentage": {\n    "variationA": 100,\n    "variationB": 0\n  }\n  },\n    # highlight-start\n    "scheduledRollout": [\n  {\n    "date": "2020-04-09T22:00:00.100Z",\n    "targeting": [\n  {\n    "name": "legacyRuleV0",\n    "query": "beta eq \\"true\\"",\n    "percentage": {\n    "variationA": 0,\n    "variationB": 100\n  }\n  }\n    ]\n  },\n  {\n    "date": "2022-05-12T13:36:00.100Z",\n    "targeting": [\n  {\n    "name": "legacyRuleV0",\n    "query": "beta eq \\"false\\""\n  }\n    ]\n  }\n    ],\n    # highlight-end\n  }\n}\n'))),(0,r.kt)(o.Z,{value:"toml",label:"TOML",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-toml"},'[scheduled-flag.variations]\nvariationA = "A"\nvariationB = "B"\n\n[scheduled-flag.defaultRule]\nname = "legacyDefaultRule"\n\n[scheduled-flag.defaultRule.percentage]\nvariationA = 100\nvariationB = 0\n\n# highlight-start\n[[scheduled-flag.scheduledRollout]]\ndate = 2020-04-09T22:00:00.100Z\n\n[[scheduled-flag.scheduledRollout.targeting]]\nname = "legacyRuleV0"\nquery = \'beta eq "true"\'\n\n[scheduled-flag.scheduledRollout.targeting.percentage]\nvariationA = 0\nvariationB = 100\n\n[[scheduled-flag.scheduledRollout]]\ndate = 2022-05-12T13:36:00.100Z\n\n[[scheduled-flag.scheduledRollout.targeting]]\nname = "legacyRuleV0"\nquery = \'beta eq "false"\'\n# highlight-end\n')))),(0,r.kt)("h2",{id:"configuration-fields"},"Configuration fields"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You can change any fields that are available on your flag.\nSince your configuration has not been changed manually, it does not trigger any notifier.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"steps"))),(0,r.kt)("td",{parentName:"tr",align:null},"The only mandatory field in a ",(0,r.kt)("strong",{parentName:"td"},"step")," is the ",(0,r.kt)("inlineCode",{parentName:"td"},"date"),".",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"If no date is provided the step will be skipped."),(0,r.kt)("br",null),(0,r.kt)("br",null),"The other attributes of your ",(0,r.kt)("inlineCode",{parentName:"td"},"step")," are what you want to update your flag, so every field available in the ",(0,r.kt)("a",{parentName:"td",href:"../flag_format"},"flag format")," can be updated.",(0,r.kt)("br",null),"The new value in a field will override the existing one.")))))}g.isMDXComponent=!0}}]);